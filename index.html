<!DOCTYPE html>
<head>

  <meta charset="utf-8">
  <title>Resume</title>
  <meta name="viewport" content="width=device-width">

  <link href="css/style.css" rel="stylesheet" type="text/css">

  <script src="js/jQuery.js"></script>
  <script src="js/helper.js"></script>
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places"></script>

</head>

<body unresolved>
  <div id="main">

    <div id="header" class="center-content clearfix">
      <ul id="topContacts" class='flex-box special-ul'></ul>
    </div>

    <div style='clear: both;'></div>

    <div id="workExperience" class='gray'>
      <h2>Work Experience</h2>
    </div>

    <div id="projects">
      <h2>Projects</h2>
    </div>

    <div id="education" class='gray'>
      <h2>Education</h2>
    </div>

    <div id="mapDiv">
      <h2>Where I've Lived and Worked</h2>
    </div>

    <div id="letsConnect" class='dark-gray'>
      <h2 class='orange center-text'>Let's Connect</h2>
        <ul id="footerContacts" class="flex-box special-ul">
      </ul>
    </div>
  </div>


  <script src="js/resumeBuilder.js"></script>
  <script type="text/javascript">

    // ADDING BIO INFO ONE BY ONE
      var formattedName = HTMLheaderName.replace('%data%', bio.name);

      var formattedRole = HTMLheaderRole.replace('%data%', bio.role);

      $('#header').prepend(formattedName, formattedRole);

      var formattedInfo = HTMLmobile.replace("%data%", bio.contactInfo["mobile"]);
      $("#topContacts").append(formattedInfo);
      $("#footerContacts").append(formattedInfo);

      formattedInfo = HTMLemail.replace("%data%", bio.contactInfo["E-mail"]);
      $("#topContacts").append(formattedInfo);
      $("#footerContacts").append(formattedInfo);

      formattedInfo = HTMLgithub.replace("%data%", bio.contactInfo["github"]);
      $("#topContacts").append(formattedInfo);
      $("#footerContacts").append(formattedInfo);

      formattedInfo = HTMLlocation.replace("%data%", bio.contactInfo["location"]);
      $("#topContacts").append(formattedInfo);
      $("#footerContacts").append(formattedInfo);

      //ADD PICTURE AND SUMMARY
      var bioPic = HTMLbioPic.replace("%data%", "images/fry.jpg");
      $("#header").append(bioPic);
      $("#header").append(HTMLsummaryStart);
      $("#summary").append(bio.summary);



    // DISPLAY ALL WORK ITEMS WITH A FOR LOOP
    function displayWork()
      {

        // check whether work exists
        if(work.jobs)
          {
            // loop through all jobs mention in work
            for(job in work.jobs)
              {
                //this adds a new div with the class "work-entry". This will be useful later as a reference when we append the job info after the last work-entry item
                $("#workExperience").append(HTMLworkStart);

                var formattedEmployer = HTMLworkEmployer.replace("%data%", work.jobs[job].employer);
                var formattedTitle = HTMLworkTitle.replace("%data%", work.jobs[job].title);
                var formattedEmployerTitle = formattedEmployer + formattedTitle;
                $(".work-entry:last").append(formattedEmployerTitle);

                var formattedLocation = HTMLworkLocation.replace("%data%", work.jobs[job].location);
                $(".work-entry:last").append(formattedLocation);

                var formattedDates = HTMLworkDates.replace("%data%", work.jobs[job].dates);
                $(".work-entry:last").append(formattedDates);

                for (role in work.jobs[job].description)
                  {
                    var formattedResponsibility = HTMLworkDescription.replace("%data%", work.jobs[job].description[role].responsibility);
                    $(".work-entry:last").append(formattedResponsibility);

                    $(".work-entry:last").append(HTMLworkTaskStart);
                    for (task in work.jobs[job].description[role].tasks)
                      {
                        var formattedTask = HTMLworkTask.replace("%data%", work.jobs[job].description[role].tasks[task]);
                        $(".task-entry:last").append(formattedTask);
                      }
                  }

              } //close for loop

          } // close if statement

      } //close function

    displayWork();


    // DISPLAY ALL THE PROJECTS WITH AN ENCAPSULATED FUNCTION
    projects.display = function()
      {

        for (var project in projects.projects)
          {

            $("#projects").append(HTMLprojectStart);

            var formattedTitle = HTMLprojectTitle.replace("%data%", projects.projects[project].title);
            $(".project-entry:last").append(formattedTitle);

            var formattedDates = HTMLprojectDates.replace("%data%", projects.projects[project].dates);
            $(".project-entry:last").append(formattedDates);

            var formattedDescription = HTMLprojectDescription.replace("%data%", projects.projects[project].description);
            $(".project-entry:last").append(formattedDescription);

            // PROJECT IMAGES - IN CASE YOU WANT TO SHOW THEM
            // for (var image in projects.projects[project].images) {
            //   var formattedImage = HTMLprojectImage.replace("%data%", projects.projects[project].images[image]);
            //   $(".project-entry:last").append(formattedImage);
            //   }
          }
      }

    projects.display();

    // DISPLAY ALL EDUCATION ITEMS
    function displayEducation()
      {

        for (var school in education.schools)
          {

            $("#education").append(HTMLschoolStart);

            var formattedSchoolName = HTMLschoolName.replace("%data%", education.schools[school].name);
            var formattedSchoolName = formattedSchoolName.replace("%url%", education.schools[school].url);
            var formattedDegree = HTMLschoolDegree.replace("%data%", education.schools[school].degree);
            formattedSchoolName = formattedSchoolName + formattedDegree;
            $(".education-entry:last").append(formattedSchoolName);

            var formattedschoolLocation = HTMLschoolLocation.replace("%data%", education.schools[school].location);
            $(".education-entry:last").append(formattedschoolLocation);

            var formattedYear = HTMLschoolDates.replace("%data%", education.schools[school].graduationYear);
            $(".education-entry:last").append(formattedYear);

            var formattedMajor = HTMLschoolMajor.replace("%data%", education.schools[school].majors);
            $(".education-entry:last").append(formattedMajor);

            $(".education-entry:last").append(HTMLsubjectsStart);

            for (subject in education.schools[school].subjects)
              {
                var formattedSubjects = HTMLsubjects.replace("%data%", education.schools[school].subjects[subject]);
                $(".subject-entry:last").append(formattedSubjects);
              }

          }

        $("#education").append(HTMLonlineCourses);

        for (var course in education.onlineCourses) {

          $("#education").append(HTMLonlineStart);

          var formattedCourseName = HTMLonlineTitle.replace("%data%", education.onlineCourses[course].title);
          formattedCourseName = formattedCourseName.replace("%url%", education.onlineCourses[course].url);
          var formattedSchool = HTMLonlineSchool.replace("%data%", education.onlineCourses[course].school);
          formattedCourseName = formattedCourseName + formattedSchool;
          $(".online-entry:last").append(formattedCourseName);

          var formattedCourseDate = HTMLonlineDates.replace("%data%", education.onlineCourses[course].date);
          $(".online-entry:last").append(formattedCourseDate);

          var formattedCourseDesc = HTMLonlineDesc.replace("%data%", education.onlineCourses[course].description);
          $(".online-entry:last").append(formattedCourseDesc);

        }
      }

    displayEducation();

    $("#mapDiv").append(googleMap);



    // FUNCTIONS TO HIDE EMPTY SECTIONS OF THE CV
    if (document.getElementsByClassName('flex-item').length === 0)
      {
        document.getElementById('topContacts').style.display = 'none';
      }
    if (document.getElementsByTagName('h1').length === 0)
      {
        document.getElementById('header').style.display = 'none';
      }
    if (document.getElementsByClassName('work-entry').length === 0)
      {
        document.getElementById('workExperience').style.display = 'none';
      }
    if (document.getElementsByClassName('project-entry').length === 0)
      {
        document.getElementById('projects').style.display = 'none';
      }
    if (document.getElementsByClassName('education-entry').length === 0)
      {
        document.getElementById('education').style.display = 'none';
      }
    if (document.getElementsByClassName('flex-item').length === 0)
      {
        document.getElementById('letsConnect').style.display = 'none';
      }
    if (document.getElementById('map') === null)
      {
        document.getElementById('mapDiv').style.display = 'none';
      }

    // log the location of the mouse pointer on each click. that is how the analytics tools work!!
    $(document).click(function(loc)
      {
        console.log(loc);
      });

    $("#main").append(internationalizeButton);

  </script>
</body>
</html>
